<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Bootstrap demo</title>
    <!-- Bootstrap CSS via CDN -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous">

    <link rel="stylesheet" href="../css/style.css" />

  </head>
  <body>
    <!--Menu superior-->
    <header class="header">
      <div class="logo">
        <img src="../IMG/logoPetAmigo.png" alt="Logo PetAmigo" />
      </div>
      <div class="search-box">
        <input type="text" placeholder="Buscar..." />
      </div>
      <div class="icons">
        <img src="../IMG/iconechat.png" alt="Chat" />
        <img src="../IMG/iconecarrinho.png" alt="carrinho" />
        <img src="../IMG/iconeperfil.png" alt="perfil" />
      </div>
    </header>

    <!-- ====== √ÅREA BRANCA: ENDERE√áO + PAGAMENTO ====== -->
    <section class="checkout-page py-4">
      <div class="container">

        <!-- ENDERE√áOS -->
        <div class="mb-4">
          <h6 class="fw-bold text-purple-800 mb-3">Endere√ßo de Entrega</h6>

          <div class="row g-3 align-items-stretch addresses-wrap">
            <!-- Endere√ßo 1 -->
            <div class="col-12">
              <label
                class="address-card d-flex align-items-center gap-3 p-3 rounded-4 shadow-sm">
                <input class="form-check-input me-2" type="radio"
                  name="endereco" value="1" data-frete="34.00" checked>
                <div class="flex-grow-1 small">
                  <div class="fw-semibold">Rua F, Quadra AA, Lote 03 Setor
                    George Yunes</div>
                  <div>Aragua√≠na - TO, 77804-970</div>
                </div>
                <span
                  class="badge bg-purple-600 px-3 py-2 rounded-pill">Padr√£o</span>
              </label>
            </div>

            <!-- Endere√ßo 2 -->
            <div class="col-12">
              <label
                class="address-card d-flex align-items-center gap-3 p-3 rounded-4 shadow-sm">
                <input class="form-check-input me-2" type="radio"
                  name="endereco" value="2" data-frete="22.90">
                <div class="flex-grow-1 small">
                  <div class="fw-semibold">Av. Tocantins, 1200 - Centro</div>
                  <div>Palmas - TO, 77001-000</div>
                </div>
              </label>
            </div>

            <!-- A√ß√µes -->
            <div
              class="col-12 d-flex justify-content-between align-items-center">
              <button class="btn btn-outline-purple rounded-pill"
                data-bs-toggle="modal" data-bs-target="#novoEnderecoModal">
                Outro Endere√ßo
              </button>

              <div class="frete-bar flex-grow-1 ms-3">
                <div class="progress rounded-pill" style="height:14px;">
                  <div class="progress-bar bg-secondary-subtle"
                    style="width:100%"></div>
                </div>
                <div class="d-flex justify-content-between small mt-1">
                  <span>Total com o Frete:</span>
                  <strong id="totalComFrete">R$ 82,50</strong>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- PAGAMENTO -->
        <div class="mb-4">
          <h6 class="fw-bold text-purple-800 mb-3">Formas de Pagamento</h6>

          <div class="d-flex flex-wrap gap-3 mb-3">
            <button class="pay-tile active" data-method="pix" type="button"
              aria-pressed="true">
              <div class="pay-icon">‚óÜ</div>
              <div class="fw-semibold">Pix</div>
            </button>
            <button class="pay-tile" data-method="credito" type="button">
              <div class="pay-icon">üí≥</div>
              <div class="fw-semibold">Cr√©dito</div>
            </button>
            <button class="pay-tile" data-method="boleto" type="button">
              <div class="pay-icon">‚ñ¶</div>
              <div class="fw-semibold">Boleto</div>
            </button>
          </div>

          <!-- Cr√©dito -->
          <div id="areaCredito"
            class="payment-area card-like p-3 rounded-4 d-none">
            <div class="row g-3">
              <div class="col-12 col-md-8">
                <label class="form-label small">N√∫mero do cart√£o</label>
                <input type="text" class="form-control" id="ccNumber"
                  placeholder="0000 0000 0000 0000" maxlength="19">
              </div>
              <div class="col-6 col-md-2">
                <label class="form-label small">Validade</label>
                <input type="text" class="form-control" id="ccExp"
                  placeholder="MM/AA" maxlength="5">
              </div>
              <div class="col-6 col-md-2">
                <label class="form-label small">CVV</label>
                <input type="text" class="form-control" id="ccCvv"
                  placeholder="000" maxlength="4">
              </div>
              <div class="col-12 col-md-6">
                <label class="form-label small">Nome impresso no cart√£o</label>
                <input type="text" class="form-control" id="ccName"
                  placeholder="Nome completo">
              </div>
              <div class="col-12 col-md-6">
                <label class="form-label small">Parcelas</label>
                <select id="ccInstallments" class="form-select">
                  <option>1x sem juros</option>
                  <option>2x sem juros</option>
                  <option>3x sem juros</option>
                </select>
              </div>
            </div>
          </div>

          <!-- Boleto -->
          <div id="areaBoleto"
            class="payment-area card-like p-3 rounded-4 d-none">
            <label class="form-label small">CPF do pagador</label>
            <input type="text" class="form-control" id="cpfBoleto"
              placeholder="000.000.000-00" maxlength="14">
          </div>
        </div>

        <!-- RESUMO -->
        <div class="card-like p-3 rounded-4">
          <div class="row g-3 align-items-center">
            <div class="col-12 col-md-6 d-flex align-items-center gap-3">
              <div class="qr-holder">
                <div class="ratio ratio-1x1 rounded bg-white shadow-sm">
                  <img
                    src="https://api.qrserver.com/v1/create-qr-code/?size=180x180&data=PIX-DEMO"
                    class="rounded p-1" alt="QR preview">
                </div>
              </div>
              <div class="small ms-md-2">
                <div><span class="text-muted">Valor dos Produtos:</span> <strong
                    id="valorProdutos">R$ 48,50</strong></div>
                <div><span class="text-muted">Valor da Entrega:</span> <strong
                    id="valorFrete">R$ 34,00</strong></div>
                <div><span class="text-muted">Total a Pagar:</span> <strong
                    id="valorTotal">R$ 82,50</strong></div>
              </div>
            </div>
            <div class="col-12 col-md-6 text-md-end">
              <button id="btnFinalizar"
                class="btn btn-primary rounded-pill px-5"
                style="background:#6a0080;border-color:#6a0080;">Pagar</button>
            </div>
          </div>
        </div>

      </div>
    </section>

    <!-- MODAL: Novo Endere√ßo -->
    <div class="modal fade" id="novoEnderecoModal" tabindex="-1"
      aria-hidden="true">
      <div class="modal-dialog">
        <form class="modal-content rounded-4" id="formNovoEndereco">
          <div class="modal-header modal-head-purple">
            <h5 class="modal-title text-purple-800">Cadastrar Novo Endere√ßo</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal"
              aria-label="Fechar"></button>
          </div>
          <div class="modal-body modal-body-purple">
            <div class="row g-3">
              <div class="col-12">
                <label class="form-label small">Logradouro</label>
                <input type="text" class="form-control" id="endLogradouro"
                  required placeholder="Rua / Avenida">
              </div>
              <div class="col-6">
                <label class="form-label small">N√∫mero</label>
                <input type="text" class="form-control" id="endNumero" required>
              </div>
              <div class="col-6">
                <label class="form-label small">CEP</label>
                <input type="text" class="form-control" id="endCep" required
                  placeholder="00000-000" maxlength="9">
              </div>
              <div class="col-8">
                <label class="form-label small">Bairro</label>
                <input type="text" class="form-control" id="endBairro" required>
              </div>
              <div class="col-4">
                <label class="form-label small">UF</label>
                <input type="text" class="form-control" id="endUf" required
                  maxlength="2">
              </div>
              <div class="col-12">
                <label class="form-label small">Cidade</label>
                <input type="text" class="form-control" id="endCidade" required>
              </div>
              <div class="col-12">
                <label class="form-label small">Complemento (opcional)</label>
                <input type="text" class="form-control" id="endComp">
              </div>
            </div>
          </div>
          <div class="modal-footer modal-body-purple">
            <button type="button" class="btn btn-outline-secondary"
              data-bs-dismiss="modal">Cancelar</button>
            <button type="submit" class="btn btn-primary"
              style="background:#6a0080;border-color:#6a0080;">Salvar</button>
          </div>
        </form>
      </div>
    </div>

    <!-- MODAL: PIX -->
    <div class="modal fade" id="pixModal" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content rounded-4 overflow-hidden">
          <div class="modal-header modal-head-purple">
            <h5 class="modal-title text-purple-800">Pague via Pix</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal"
              aria-label="Fechar"></button>
          </div>
          <div class="modal-body modal-body-purple">
            <div class="row g-3 align-items-center">
              <div class="col-12 col-sm-5">
                <div
                  class="ratio ratio-1x1 bg-white rounded d-flex align-items-center justify-content-center shadow-sm">
                  <img id="pixQr"
                    src="https://api.qrserver.com/v1/create-qr-code/?size=230x230&data=000201PIX-DEMO-CHAVE"
                    class="p-2 rounded" alt="QR Pix">
                </div>
              </div>
              <div class="col-12 col-sm-7">
                <div class="small mb-2"><strong>Valor:</strong> <span
                    id="pixValor">R$ 82,50</span></div>
                <div class="input-group">
                  <input id="pixCode" class="form-control"
                    value="000201PIX-DEMO-CHAVE-EXEMPLO" readonly>
                  <button class="btn btn-outline-secondary" type="button"
                    id="copyPix">Copiar</button>
                </div>
                <div class="form-text">Copie o c√≥digo e pague no seu
                  banco.</div>
              </div>
            </div>
          </div>
          <div class="modal-footer modal-body-purple">
            <button class="btn btn-primary" data-bs-dismiss="modal"
              style="background:#6a0080;border-color:#6a0080;">Fechar</button>
          </div>
        </div>
      </div>
    </div>

    <!-- MODAL: Boleto -->
    <div class="modal fade" id="boletoModal" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content rounded-4 overflow-hidden">
          <div class="modal-header modal-head-purple">
            <h5 class="modal-title text-purple-800">Boleto Gerado</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal"
              aria-label="Fechar"></button>
          </div>
          <div class="modal-body modal-body-purple">
            <p class="small mb-2">Use o c√≥digo abaixo no seu banco.</p>
            <div class="input-group">
              <input id="boletoCode" class="form-control"
                value="34191.79001 01043.510047 91020.150008 9 1234000008250"
                readonly>
              <button class="btn btn-outline-secondary" type="button"
                id="copyBoleto">Copiar</button>
            </div>
          </div>
          <div class="modal-footer modal-body-purple">
            <button class="btn btn-primary" data-bs-dismiss="modal"
              style="background:#6a0080;border-color:#6a0080;">Fechar</button>
          </div>
        </div>
      </div>
    </div>

    <!-- ====== JS (pode mover para um .js se preferir) ====== -->
    <script>
(function(){
  // Valores base
  let subtotal = 48.50;
  const enderecoRadios = document.querySelectorAll('input[name="endereco"]');
  const valorProdutosEl = document.getElementById('valorProdutos');
  const valorFreteEl    = document.getElementById('valorFrete');
  const valorTotalEl    = document.getElementById('valorTotal');
  const totalComFreteEl = document.getElementById('totalComFrete');

  function formatBR(v){ return 'R$ ' + v.toFixed(2).replace('.', ','); }

  function atualizarTotais(){
    const sel = document.querySelector('input[name="endereco"]:checked');
    const frete = parseFloat(sel?.dataset.frete || 0);
    const total = subtotal + frete;
    valorProdutosEl.textContent = formatBR(subtotal);
    valorFreteEl.textContent    = formatBR(frete);
    valorTotalEl.textContent    = formatBR(total);
    totalComFreteEl.textContent = formatBR(total);
    document.getElementById('pixValor').textContent = formatBR(total);
  }
  enderecoRadios.forEach(r=> r.addEventListener('change', atualizarTotais));
  atualizarTotais();

  // Novo endere√ßo
  document.getElementById('formNovoEndereco').addEventListener('submit', function(e){
    e.preventDefault();
    const rua = document.getElementById('endLogradouro').value.trim();
    const numero = document.getElementById('endNumero').value.trim();
    const bairro = document.getElementById('endBairro').value.trim();
    const cidade = document.getElementById('endCidade').value.trim();
    const uf = document.getElementById('endUf').value.trim().toUpperCase();
    const cep = document.getElementById('endCep').value.trim();
    const frete = 29.90; // exemplo

    const wrapper = document.createElement('div');
    wrapper.className = 'col-12';
    wrapper.innerHTML = `
      <label class="address-card d-flex align-items-center gap-3 p-3 rounded-4 shadow-sm">
        <input class="form-check-input me-2" type="radio" name="endereco" data-frete="${frete.toFixed(2)}">
        <div class="flex-grow-1 small">
          <div class="fw-semibold">${rua}, ${numero} - ${bairro}</div>
          <div>${cidade} - ${uf}, ${cep}</div>
        </div>
      </label>`;
    const container = document.querySelector('.addresses-wrap');
    container.insertBefore(wrapper, container.lastElementChild);

    const radio = wrapper.querySelector('input[type=radio]');
    radio.addEventListener('change', atualizarTotais);
    radio.checked = true;
    atualizarTotais();

    bootstrap.Modal.getInstance(document.getElementById('novoEnderecoModal')).hide();
    this.reset();
  });

  // M√©todo de pagamento
  const tiles = document.querySelectorAll('.pay-tile');
  const areaCredito = document.getElementById('areaCredito');
  const areaBoleto  = document.getElementById('areaBoleto');
  let metodo = 'pix';

  function setMetodo(m){
    metodo = m;
    tiles.forEach(t=> t.classList.toggle('active', t.dataset.method === m));
    areaCredito.classList.toggle('d-none', m !== 'credito');
    areaBoleto.classList.toggle('d-none',  m !== 'boleto');
  }
  tiles.forEach(t=> t.addEventListener('click', ()=> setMetodo(t.dataset.method)));
  setMetodo('pix');

  // Finalizar
  document.getElementById('btnFinalizar').addEventListener('click', function(){
    if(metodo === 'credito'){
      const n = document.getElementById('ccNumber').value.replace(/\s/g,'');
      const e = document.getElementById('ccExp').value.trim();
      const c = document.getElementById('ccCvv').value.trim();
      const name = document.getElementById('ccName').value.trim();
      if(n.length < 13 || e.length < 4 || c.length < 3 || !name){
        alert('Preencha os dados do cart√£o corretamente.');
        return;
      }
      alert('Pagamento no cr√©dito enviado para processamento (demo).');
      return;
    }
    if(metodo === 'pix'){
      new bootstrap.Modal('#pixModal').show();
      return;
    }
    if(metodo === 'boleto'){
      const cpf = document.getElementById('cpfBoleto').value.trim();
      if(!cpf){ alert('Informe o CPF para gerar o boleto.'); return; }
      new bootstrap.Modal('#boletoModal').show();
      return;
    }
  });

  // Copiar c√≥digos
  document.getElementById('copyPix').addEventListener('click', ()=>{
    navigator.clipboard.writeText(document.getElementById('pixCode').value);
  });
  document.getElementById('copyBoleto').addEventListener('click', ()=>{
    navigator.clipboard.writeText(document.getElementById('boletoCode').value);
  });

  // M√°scaras r√°pidas
  const ccNumber = document.getElementById('ccNumber');
  ccNumber.addEventListener('input', ()=>{
    let v = ccNumber.value.replace(/\D/g,'').slice(0,16);
    ccNumber.value = v.replace(/(\d{4})(?=\d)/g,'$1 ').trim();
  });
  const ccExp = document.getElementById('ccExp');
  ccExp.addEventListener('input', ()=>{
    let v = ccExp.value.replace(/\D/g,'').slice(0,4);
    ccExp.value = v.replace(/(\d{2})(?=\d)/,'$1/');
  });
  const ccCvv = document.getElementById('ccCvv');
  ccCvv.addEventListener('input', ()=> ccCvv.value = ccCvv.value.replace(/\D/g,'').slice(0,4));

  const cep = document.getElementById('endCep');
  cep?.addEventListener('input', ()=>{
    let v = cep.value.replace(/\D/g,'').slice(0,8);
    cep.value = v.replace(/(\d{5})(\d{0,3})/,'$1-$2');
  });
  const cpfBoleto = document.getElementById('cpfBoleto');
  cpfBoleto.addEventListener('input', ()=>{
    let v = cpfBoleto.value.replace(/\D/g,'').slice(0,11);
    cpfBoleto.value = v
      .replace(/(\d{3})(\d)/, '$1.$2')
      .replace(/(\d{3})(\d)/, '$1.$2')
      .replace(/(\d{3})(\d{1,2})$/, '$1-$2');
  });
})();
</script>

    <!-- Rodap√©  -->
    <footer class="footer">
      <!-- Area do rodap√© que ficar√° os textos do lado esquerdo -->
      <div class="footer-esquerdo">
        <p>Desenvolvido por Jh√©ssik Kaelly Bezerra Leal</p>
      </div>

      <!-- Area Direita com as redes sociais -->
      <div class="footer-direito">
        <p>Conhe√ßa Nossas Redes Sociais</p>
        <div class="icons-sociais">
          <a href>
            <img src="../IMG/iconeinstagram.png" alt="Instagram" />
          </a>
          <a href>
            <img src="../IMG/iconelinkedin.png" alt="Linkedin" />
          </a>
          <a href>
            <img src="../IMG/iconefacebook.png" alt="Facebook" />
          </a>
        </div>
      </div>
    </footer>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
  </body>
</html>
